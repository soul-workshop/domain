# Обновление токена авторизации пользователя по рефреш токену
## История
Фронтэнд по истечении срока действия access токена, обновляет ее по refresh токену без участия пользователя.

## Действия
1. Фронтэнд, перед отправкой любого запроса в бэкенд проверяет не истек ли срок access токена;
1. Если токен не истек, то выполняется запрос в бэкенд и обрабатывает запрос. Конец!;
1. Иначе, фронтенд проверяет не истек ли срок действия refresh токена;
1. Если токен истек, то выполняетс редирект на страницу авторизации для обновления access и refresh токена;
1. Иначе, фронтэнд выполняет запрос на обновление access и refresh токена;
1. Если ответ с бэкенда не удачен, то выполняется обработка согласно типа ошибки;
1. Иначе фронтэнд выполняет обновление access и refresh токена в кеше;
1. Фронтэнд выполняет запрос в бэкенд подписав ее новым токеном и обрабатывает запрос (пункт 2);


## Доменные условия
- пользователя с таким userId не существует;
- время refresh токена истекло;
- ошибка верификации токена (4 ошибки верификации jwt);

## Результат
**Система:**
- Фронтэнд обновляет refresh и access токен и выполняет запрос;

## Альтернативные сценарии
- получение ошибки при обновлении токена, выполняется редирект на страницу авторизации;
