# Обновление токена авторизации пользователя по рефреш токену
## История
Фронтэнд по истечении срока действия access токена, обновляет ее по refresh токену без участия пользователя.

## Действия
1. Фронтэнд, перед отправкой любого запроса в бэкенд проверяет не истек ли срок access токена;
1. Если токен не истек, то выполняется запрос в бэкенд и обрабатывает запрос. Конец!;
1. Иначе, фронтенд проверяет не истек ли срок действия refresh токена;
1. Если токен истек, то выполняетс редирект на страницу авторизации для обновления access и refresh токена;
1. Иначе, фронтэнд выполняет запрос на обновление access токена;
1. Если ответ с бэкенда не удачен, то выполняется обработка согласно типа ошибки;
1. Иначе фронтэнд выполняет обновление access токена в кеше;
1. Фронтэнд выполняет запрос в бэкенд подписав ее новым токеном и обрабатывает запрос;


## Доменные условия
- пользователь с таким telegramId не зарегестрирован в системе;
- hash код телеграм не валиден;
- прошло время актуальности hash кода телеграм;

## Результат
**Пользователь:**
- Попадает на главную страницу `/workspace/my-workspace`;

## Альтернативные сценарии
- при переходе на страницу my-workspace список мастерских пустой:
  - Показывается страница 500;
- при переходе на страницу my-workspace приходит список больше одной мастерской:
  - Показывается страница 500;
